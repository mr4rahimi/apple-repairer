---
const phoneNumber = "02191300348"; 
---

<section class="relative w-full bg-black overflow-hidden">
  <!-- Ambient glow -->
  <div class="pointer-events-none absolute inset-0">
    <div class="absolute -top-40 -left-40 h-[520px] w-[520px] rounded-full blur-3xl opacity-20 bg-white/20"></div>
    <div class="absolute -bottom-48 -right-48 h-[680px] w-[680px] rounded-full blur-3xl opacity-15 bg-white/20"></div>
    <div class="absolute inset-0 bg-gradient-to-b from-white/[0.06] via-transparent to-black"></div>
  </div>

  <!-- Circuit / tech lines (animated) -->
  <div class="pointer-events-none absolute inset-0 opacity-60">
    <svg class="absolute inset-0 h-full w-full" viewBox="0 0 1200 700" preserveAspectRatio="none" aria-hidden="true">
      <defs>
        <linearGradient id="lineGrad" x1="0" y1="0" x2="1" y2="0">
          <stop offset="0" stop-color="rgba(255,255,255,0)" />
          <stop offset="0.5" stop-color="rgba(255,255,255,0.35)" />
          <stop offset="1" stop-color="rgba(255,255,255,0)" />
        </linearGradient>

        <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="2.5" result="blur" />
          <feMerge>
            <feMergeNode in="blur" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>
      </defs>

      <!-- Base paths -->
      <g fill="none" stroke="rgba(255,255,255,0.10)" stroke-width="1">
        <path d="M40,120 C220,70 290,240 420,210 S640,100 760,150 940,290 1160,210" />
        <path d="M20,420 C220,360 340,520 520,470 S700,350 860,420 980,520 1180,460" />
        <path d="M80,620 C280,520 330,650 520,590 S820,480 980,560 1070,650 1200,610" />
        <path d="M60,260 C180,320 280,260 380,310 S540,420 680,340 860,250 980,330 1100,410 1200,360" />
      </g>

      <!-- Animated scan strokes -->
      <g class="scan-lines" filter="url(#softGlow)" fill="none" stroke="url(#lineGrad)" stroke-width="2">
        <path class="scan-path sp1" d="M40,120 C220,70 290,240 420,210 S640,100 760,150 940,290 1160,210" />
        <path class="scan-path sp2" d="M20,420 C220,360 340,520 520,470 S700,350 860,420 980,520 1180,460" />
        <path class="scan-path sp3" d="M80,620 C280,520 330,650 520,590 S820,480 980,560 1070,650 1200,610" />
        <path class="scan-path sp4" d="M60,260 C180,320 280,260 380,310 S540,420 680,340 860,250 980,330 1100,410 1200,360" />
      </g>

      <!-- Nodes -->
      <g fill="rgba(255,255,255,0.55)">
        <circle cx="420" cy="210" r="2.5" />
        <circle cx="760" cy="150" r="2.5" />
        <circle cx="520" cy="470" r="2.5" />
        <circle cx="860" cy="420" r="2.5" />
        <circle cx="980" cy="560" r="2.5" />
        <circle cx="380" cy="310" r="2.5" />
      </g>
    </svg>

    <!-- Tiny particles -->
    <div class="absolute inset-0 tech-dots" aria-hidden="true"></div>
  </div>

  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-14 sm:py-20">
    <div class="grid items-center gap-10 lg:grid-cols-12">
      <!-- Text -->
      <div class="lg:col-span-7 text-right">
        <div class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/[0.03] px-3 py-1 text-xs sm:text-sm text-white/70">
          <span class="h-1.5 w-1.5 rounded-full bg-white/50"></span>
          <span>تعمیرات تخصصی آیفون • آیپد • دستگاه‌های اپل</span>
        </div>

        <h2
          class="mt-5 text-white font-semibold tracking-tight leading-[1.15]
                 text-2xl sm:text-3xl lg:text-4xl opacity-0 translate-y-3 will-change-transform"
          data-animate="title"
        >
          مرکز خدمات پس از فروش اپل
        </h2>

        <div
          class="mt-5 text-white/75 text-sm sm:text-base leading-8 opacity-0 translate-y-3 will-change-transform"
          data-animate="body"
        >
          <p>
            نمایندگی تعمیرات اپل در ایران، مرکزی معتبر برای ارائه خدمات تخصصی تعمیرات محصولات اپل از جمله آیفون و آیپد است.
            این مجموعه با گرد هم آوردن گروهی از تکنسین‌های مجرب در حوزه تعمیرات موبایل و تبلت، خدمات سخت‌افزاری و نرم‌افزاری را
            با بهره‌گیری از تجهیزات پیشرفته روز دنیا انجام می‌دهد. تعمیرات در این مرکز با استفاده از قطعات اصلی و اورجینال،
            در سریع‌ترین زمان ممکن و با هزینه‌ای مقرون‌به‌صرفه به مشتریان عزیز ارائه می‌گردد.
          </p>

          <div class="h-5"></div>

          <p>
            این مرکز رسمی با تکیه بر دانش فنی نیروهایی که دوره‌های تخصصی اپل را گذرانده‌اند و همچنین به‌کارگیری ابزارهای دقیق و استاندارد،
            توانایی پاسخ‌گویی به انواع نیازهای مشتریان در حوزه خدمات پس از فروش گوشی‌های اپل را دارد. رعایت اصول تخصصی و استانداردهای شرکت اپل،
            رمز موفقیت این نمایندگی در جلب اعتماد کاربران است.
          </p>

          <div class="h-5"></div>

          <p>
            مشتریان اپل در سراسر کشور ایران میتوانند با تماس با ما دستگاه خود را به مراکز ما با پست ارسال نمایند.
          </p>
        </div>
      </div>

      <!-- Right visual card -->
      <div class="lg:col-span-5">
        <div class="relative rounded-2xl border border-white/10 bg-white/[0.03] p-5 sm:p-6 overflow-hidden">
          <div class="absolute inset-0 opacity-40">
            <div class="absolute -top-24 left-1/2 -translate-x-1/2 h-56 w-56 rounded-full blur-3xl bg-white/20"></div>
            <div class="absolute -bottom-24 right-0 h-56 w-56 rounded-full blur-3xl bg-white/15"></div>
          </div>

          <div class="relative">
            <div class="flex items-center justify-between text-white/80 text-xs sm:text-sm">
              <span class="font-semibold">Apple Service</span>
              <span class="rounded-full border border-white/10 px-2 py-1 bg-black/20">Premium</span>
            </div>

            <div class="mt-5 grid grid-cols-2 gap-3">
              <div class="rounded-xl border border-white/10 bg-black/30 p-4">
                <div class="text-white text-lg sm:text-xl font-semibold">قطعات اصلی</div>
                <div class="mt-1 text-white/60 text-xs sm:text-sm">استفاده از قطعات اورجینال و استاندارد</div>
              </div>
              <div class="rounded-xl border border-white/10 bg-black/30 p-4">
                <div class="text-white text-lg sm:text-xl font-semibold">زمان سریع</div>
                <div class="mt-1 text-white/60 text-xs sm:text-sm">تحویل در سریع‌ترین زمان ممکن</div>
              </div>
              <div class="rounded-xl border border-white/10 bg-black/30 p-4">
                <div class="text-white text-lg sm:text-xl font-semibold">تکنسین حرفه‌ای</div>
                <div class="mt-1 text-white/60 text-xs sm:text-sm">نیروهای آموزش‌دیده دوره‌های اپل</div>
              </div>
              <div class="rounded-xl border border-white/10 bg-black/30 p-4">
                <div class="text-white text-lg sm:text-xl font-semibold">ارسال پستی</div>
                <div class="mt-1 text-white/60 text-xs sm:text-sm">پذیرش از سراسر ایران</div>
              </div>
            </div>

            <div class="mt-5 rounded-xl border border-white/10 bg-black/35 p-4">
              <div class="text-white/80 text-xs sm:text-sm">آماده پاسخگویی</div>
              <div class="mt-1 text-white text-base sm:text-lg font-semibold">
                همین حالا تماس بگیرید
              </div>
              <a
                href={`tel:${phoneNumber}`}
                class="mt-3 inline-flex w-full items-center justify-center rounded-xl
                       bg-white/90 text-black px-4 py-2.5 text-sm font-semibold
                       hover:bg-white transition"
              >
               تماس فوری
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Animation script: reveal on view + delayed -->
  <script is:inline>
    (() => {
      const root = document.currentScript?.closest("section");
      if (!root) return;

      const items = root.querySelectorAll("[data-animate]");
      const reduce = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

      const show = () => {
        const order = ["title", "body", "cta"];
        order.forEach((key, i) => {
          const el = root.querySelector(`[data-animate="${key}"]`);
          if (!el) return;
          if (reduce) {
            el.classList.add("reveal-now");
          } else {
            setTimeout(() => el.classList.add("reveal-now"), 180 + i * 180);
          }
        });
      };

      if (reduce) return show();

      const io = new IntersectionObserver((entries) => {
        entries.forEach((e) => {
          if (e.isIntersecting) {
            show();
            io.disconnect();
          }
        });
      }, { threshold: 0.18 });

      io.observe(root);
    })();
  </script>

  <style>
    /* Reveal */
    [data-animate] {
      transition: opacity 700ms ease, transform 700ms ease;
    }
    .reveal-now {
      opacity: 1 !important;
      transform: translateY(0) !important;
    }

    /* Scan line animation */
    .scan-path {
      stroke-dasharray: 220 1200;
      stroke-dashoffset: 1400;
      animation: scan 4.8s linear infinite;
      opacity: 0.9;
    }
    .sp2 { animation-delay: 0.6s; }
    .sp3 { animation-delay: 1.2s; }
    .sp4 { animation-delay: 1.8s; }

    @keyframes scan {
      0%   { stroke-dashoffset: 1400; opacity: 0.0; }
      10%  { opacity: 0.9; }
      100% { stroke-dashoffset: -800; opacity: 0.0; }
    }

    /* Dots layer */
    .tech-dots {
      background-image:
        radial-gradient(rgba(255,255,255,0.16) 1px, rgba(0,0,0,0) 1px);
      background-size: 22px 22px;
      background-position: 0 0;
      filter: blur(0.2px);
      animation: drift 12s linear infinite;
      opacity: 0.18;
      mask-image: radial-gradient(circle at 60% 40%, rgba(0,0,0,1) 0%, rgba(0,0,0,0.2) 55%, rgba(0,0,0,0) 78%);
      -webkit-mask-image: radial-gradient(circle at 60% 40%, rgba(0,0,0,1) 0%, rgba(0,0,0,0.2) 55%, rgba(0,0,0,0) 78%);
    }

    @keyframes drift {
      0% { transform: translate3d(0,0,0); }
      50% { transform: translate3d(18px, -10px, 0); }
      100% { transform: translate3d(0,0,0); }
    }

    @media (prefers-reduced-motion: reduce) {
      .scan-path, .tech-dots { animation: none !important; }
      [data-animate] { transition: none !important; }
    }
  </style>
</section>
